<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Calculadora QTc (Bazett)</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="card">
    <h2>Calculadora de QTc (Bazett)</h2>

    <label for="qt">QT:</label>
    <input type="number" id="qt" step="0.01" placeholder="Ej: 0.36 o 9 cuadraditos">
    <select id="qtUnidad">
      <option value="seg">segundos</option>
      <option value="cuad">cuadraditos</option>
    </select>

    <label for="rr">RR:</label>
    <input type="number" id="rr" step="0.01" placeholder="Ej: 0.84 o 21 cuadraditos">
    <select id="rrUnidad">
      <option value="seg">segundos</option>
      <option value="cuad">cuadraditos</option>
    </select>

    <button onclick="calcularQTc()">Calcular</button>

    <div id="resultado" class="resultado" style="display:none;"></div>
  </div>

  <script>
    function calcularQTc() {
      let qt = parseFloat(document.getElementById("qt").value);
      let rr = parseFloat(document.getElementById("rr").value);
      let qtUnidad = document.getElementById("qtUnidad").value;
      let rrUnidad = document.getElementById("rrUnidad").value;

      if (isNaN(qt) || isNaN(rr)) {
        alert("Por favor, ingresa valores válidos");
        return;
      }

      // convertir si está en cuadraditos
      if (qtUnidad === "cuad") qt *= 0.04;
      if (rrUnidad === "cuad") rr *= 0.04;

      // Fórmula de Bazett
      let qtc = qt / Math.sqrt(rr);
      let qtcMs = qtc * 1000; // pasar a milisegundos

      // Interpretación simple
      let interpretacion = "";
      if (qtcMs < 440) interpretacion = "Normal en varones";
      else if (qtcMs < 460) interpretacion = "Normal en mujeres, límite en varones";
      else interpretacion = "Prolongado";

      const resultadoDiv = document.getElementById("resultado");
      resultadoDiv.style.display = "block";
      resultadoDiv.innerHTML =
        `<b>QTc (Bazett):</b> ${qtcMs.toFixed(0)} ms <br>` +
        `<b>Interpretación:</b> ${interpretacion}`;
    }
  </script>
</body>
</html>
